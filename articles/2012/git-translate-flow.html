<!DOCTYPE html><html lang="en"><head><!--Meta--><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta http-equiv="content-type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>#dogfeet - Git:번역 Workflow</title><meta name="description" /><meta name="keywords" /><meta name="author" content="Changwoo Park" /><!--Icons--><link rel="shortcut icon" href="images/favicon.ico" /><link rel="apple-touch-icon" href="images/apple-touch-icon.png" /><link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png" /><link rel="alternate" type="application/atom+xml" title="개발새발 &raquo; Feed" href="http://feeds.feedburner.com/github/dogfeet" /><!--Shims: IE6-8 support of HTML5 elements--><!--[if lt IE 9]>
        <script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><!--Styles--><link rel="stylesheet" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.0/css/bootstrap-combined.min.css" media="screen, projection" /><link rel="stylesheet" href="/css/highlight/github.css" media="screen, projection" /><link rel="stylesheet" href="/styles/style.css" media="screen, projection" /><link rel="stylesheet" href="/styles/markdown.css" media="screen, projection" /><!--Scripts--><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script><script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script><script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script><script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.0/js/bootstrap.min.js"></script><script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script><script src="/scripts/script.js"></script></head><body><!--Topbar--><div class="navbar navbar-static-top"><div class="navbar-inner"><div class="container"><a class="btn btn-navbar pull-right" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="/">dogfeet</a><div class="nav-collapse collapse"><ul class="nav"><li><a href="/site/tagmap.html">Tagmap</a></li><li><a href="/site/archive.html">Archive</a></li><li><a href="/site/atelier.html">Atelier</a></li><li><a href="http://feeds.feedburner.com/github/dogfeet"><img src="http://forum.tattersite.com/ko/style/Textcube/feed-icon.png" /></a></li></ul><form id="search-form" class="pull-right navbar-search" action="http://google.com/search" method="get"><input type="hidden" name="q" value="site:dogfeet.github.com" /><input type="text" name="q" results="0" placeholder="Search" search-query /></form></div></div></div></div><!--Markup--><div class="container"><div><script src="http://platform.twitter.com/widgets.js"></script><script>//facebook
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

//google plusone
(function() {
  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
  po.src = 'https://apis.google.com/js/plusone.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
</script><section class="content"><article id="post" class="post undefined" typeof="sioc:post" about="/articles/2012/git-translate-flow.html" lang="ko-kr"><div class="row"><div class="span2 muted modern-font small-font"><span property="dc:created">2012 Feb 02 &raquo;</span></div><div class="span10"><h1 property="dcterms:title">Git:번역 Workflow</h1></div></div><div class="row"><div class="offset2 span10 modern-font small-font muted"><span>&nbsp; by <a href="https://twitter.com/pismute/">Changwoo Park</a></span>
 | <a href="/site/tagmap.html#git" class="tag">Git</a> <a href="/site/tagmap.html#번역" class="tag">번역</a> <a href="/site/tagmap.html#workflow" class="tag">Workflow</a> | <span><a href="/articles/2012/git-translate-flow.html#disqus_thread" data-disqus-identifier="/articles/2012/git-translate-flow.html"></a></span>
</div></div><div class="row"><div class="offset2 span10"><br/><style rel="stylesheet" media="screen, projection" scoped="scoped">#social-buttons {
  margin-left: 30px;
}</style><div id="social-buttons" class="pull-right"><ul class="unstyled"><li><a class="twitter-share-button" href="https://twitter.com/share" data-url="http://dogfeet.github.com/articles/2012/git-translate-flow.html" data-via="pismute" data-count="horizontal" data-lang="en">Tweet</a></li><li><div class="g-plusone" data-size="medium" data-href="http://dogfeet.github.com/articles/2012/git-translate-flow.html"></div></li><li><div class="fb-like" data-href="http://dogfeet.github.com/articles/2012/git-translate-flow.html" data-send="false" data-layout="button_count" data-show-faces="false"></div></li></ul></div><div property="sioc:content"><p>Git으로 번역한다는 것은 아마도 CCL을 따르는 영문 자료를 우리말로 번역하는 것을 의미할 것이다. Pro Git 번역도 그랬다. Pro Git을 번역하면서 정리한 Workflow를 소개한다. 다른 번역 프로젝트에 도움을 줄 수 있으면 좋겠다.</p>

<p><img src="/articles/2012/translation-flow/translation-flow.png" alt="image"></p>

<h2>번역</h2>

<p>Git을 사용하는 데 있어서 번역 프로젝트는 개발 프로젝트와 다르다. 훨씬 더 정적이다. 만들어야 하는 브랜치 수도 적고 버그를 발견해도 좀 더 느슨하게 대처해도 된다. 며칠 늦었다고 해서 수갑을 차는 것도 아니고 경찰이 출동하지도 않는다.</p>

<p>Git은 번역 작업을 관리하는데도 좋다. 특히 원문 자체가 계속 수정되는 진행 중인 자료들이기 때문에 번역도 완성된 상태라고 볼 수 없고 항상 진행 중이라고 봐야 한다. Git은 이 상태를 추적하고 관리하는데 최상의 도구다.</p>

<p>Pro Git을 번역할 때 Git을 어떻게 사용해야 할지 몰랐기 때문에 헤매고 시간을 낭비했었다. 번역할 때는 어떤 브랜치가 필요한지 그리고 어떻게 사용하는 것이 좋은지 그동안 고민한 Workflow를 공개한다.</p>

<h2>브랜치</h2>

<p>몇 번의 삽질을 거쳐서 지금과 같은 번역 Workflow를 만들었다.</p>

<p>여기서는 사용한 브랜치는 다음과 같다:</p>

<ul>
<li>master - progit/master를 Tracking하는 브랜치</li>
<li>topic - 작업 브랜치들</li>
<li>ko - 번역이 완료되면 이 브랜치에 Merge하고 Pull Request를 보낸다.</li>
<li>ko-base - 원문, 어느 시점을 기준으로 번역했는지 기록하는 브랜치</li>
<li>private - 절대 Pull Request를 보내지 않을 브랜치들</li>
</ul>

<h3>master</h3>

<p>progit/master를 Tracking하는 브랜치이다. master 브랜치를 직접 수정하지 않는다.</p>

<p>이 브랜치를 progit/master를 Tracking하도록 한 이유는 별로 쓸모가 없어서다. Pull Request하는 브랜치를 ko 브랜치로 해야 했고 원문의 master 브랜치가 가리키는 커밋을 가리키는 로컬 브랜치가 하나 있는 게 편하기도 했다.</p>

<p>이 브랜치는 항상 progit/master를 따라가는 것이니까 항상 Fast-forward Merge된다.</p>

<p><img src="translation-flow/progit-master--master.png" alt="progit/master-master"></p>

<h3>토픽들</h3>

<p>Pro Git을 번역할 때는 Chapter 별로 브랜치를 만들었다. 01, 02, &hellip;, 09 브랜치를 만들고 번역했다. 이 브랜치를 그대로 Push해서 다른 사람에게 리뷰를 요청했다. 책에 Chapter가 없어도 섹션 별로 만들 수도 있다.</p>

<p>책 내용뿐만 아니라 보통 ebook을 빌드하는 구조를 가진 책들은 설정 파일과 빌드 스크립트도 수정해야 한다. 이것을 위한 토픽 브랜치도 만든다. 이때는 꼭 브랜치 이름이 ko-build로 시작하게 했다.</p>

<p><img src="translation-flow/topics--ko.png" alt="topics-ko"></p>

<h3>ko</h3>

<p>이 브랜치가 핵심 브랜치다. Git-flow에 비교하자면 develop 브랜치에 해당한다고 할 수 있다. 토픽 브랜치에서 작업을 완료하면 커밋과 커밋 메시지를 정리하고 ko 브랜치에 Merge했다. </p>

<p>곧 Pull Request를 보낼 브랜치이기 때문에 토픽 브랜치를 Merge할 때 커밋을 잘 정리해서 Merge한다.</p>

<p>브랜치 이름을 <code>ko</code>라고 해야 하는 이유는 Merge 커밋에 브랜치 이름이 기록되기 때문이다. 보통 Git의 Merge 커밋은 다음과 같다:</p>
<pre><code><span class="title">Merge</span> branch <span class="string">'ko'</span> into master
</code></pre>
<p>Github에서 Pull Request를 Merge했을 때의 커밋 메시지는 거의 같지만 다르게 생겼다:</p>
<pre><code><span class="title">Merge</span> pull request <span class="comment">#158 from dogfeet/ko</span>
</code></pre>
<p>해당 Pull Request의 이슈 번호와 저장소 이름/브랜치 이름이 기록된다. 그래서 한국어를 나타낼 수 있도록 ko라는 이름으로 만든다.</p>

<p>Pull Request를 보내고 나서 원문 저장소에 Merge되면 다시 히스토리를 맞춰 주어야 한다. 원문 저장소는 한글뿐만 아니라 스페인어, 불어, 독어 등등의 커밋이 계속 업데이트된다. ko 브랜치를 삭제하고 다시 만들어도 되지만 reset 명령으로 ko 브랜치 포인터를 옮길 수 있다:</p>
<pre><code><span class="variable">$ </span>git checkout master
<span class="variable">$ </span>git merge progit/master <span class="comment">#Fast-forward Merge</span>
<span class="variable">$ </span>git checkout ko
<span class="variable">$ </span>git reset --hard master
</code></pre>
<p>원문 저장소의 리모트 이름이 progit라고 가정한다:</p>

<p><img src="translation-flow/progit-master--ko.png" alt="progit/master-ko"></p>

<h4>ko-build</h4>

<p>어떤 커밋은 확실히 메인 저장소에 Push해야 하지만 어떤 커밋은 Dictator(원문 저장소 관리자)가 검토하고 Merge해 주길 바랄 것이다. 그런데 번역은 언어 문제로 Dictator가 검토할 수 없다. 빌드 스크립트 로직 문제를 제외하고는 원문 Dictator가 해줄 수 있는 게 없다.</p>

<p>빌드 스크립트나 관련 설정을 Pull Request로 보낼 때에도 <code>ko</code> 브랜치에 Merge해서 보냈다. 하지만, 빌드 스크립트 로직을 수정해야 한다면 Merge하는 것이 옳은지 Dictator가 검토해주길 바랄 테니까 본문과 별도로 보냈다. Pull Request는 브랜치 단위로 요청하는 것이니까 본문을 위한 브랜치 &lsquo;ko'말고 다른 브랜치가 필요하다.</p>

<p><strong>Note:</strong> 하지만 Dictator가 검토하는지 알 수 없다. 영어 폰트를 임의로 수정해서 Pull Request를 보냈는데 Dictator인 <a href="https://github.com/schacon">schacon</a>은 그대로 Merge했다.</p>

<p>Dictator가 검토해주길 바라는 내용은 ko-build 브랜치를 만들어 Pull Request를 보낸다. 스크립트는 한번 고치면 다시 고쳐야 할 일은 거의 없다.</p>

<p><img src="translation-flow/progit-master--ko-build.png" alt="progit/master-ko-build"></p>

<h3>ko-base</h3>

<p>ko-base 브랜치가 가리키는 시점이 번역한 원문 시점을 나타낸다. 원본이 수정되면 이 브랜치를 이용해서 살펴보고 추가 번역해서 ko 브랜치에 반영하고 ko-base 브랜치는 최신으로 옮겨 놓는다. 그래서 master 브랜치처럼 항상 Fast-forward Merge된다.</p>

<p>master가 있는데 ko-base가 필요할까? 이 부분은 논쟁이 될 수 있다. ko-base 없이 master를 이용해도 된다. 분명한 근거를 제시할 수는 없지만, 목적을 스스로 설명하는 이름으로 된 브랜치를 사용하는 것이 옳다고 판단했고 확실히 구분해 사용했다.</p>

<p>이 브랜치도 항상 progit/master를 따라가는 것이니까 항상 Fast-forward Merge된다.</p>

<p>ko-base를 브랜치가 아닌 Tag로 만들어도 된다. 하지만, Tag는 가리키는 커밋을 옮길 수 없다. 삭제하고 다시 만들어야 한다. 시점이 옮기는 것이니까 Fast-forward Merge가 적당하다고 생각한다.</p>

<p><img src="translation-flow/progit-master--ko-base.png" alt="progit/master-ko-base"></p>

<h3>private</h3>

<p>중앙 저장소에 Merge하지 않을 커밋을 담아둘 브랜치도 필요하다. 확신이 없거나 중앙 저장소에 Merge했을 때 구조적으로 문제가 생길 수도 있는 것을 이 브랜치에 넣는다. 즉, 절대 Pull Request를 보내지 않을 커밋은 private으로 시작하는 브랜치에 넣는다.</p>

<p>dogfeet/progit에서는 'private-ko-build-ebook&rsquo;, &lsquo;private-ko-build-ubuntu'라는 브랜치를 만들어 사용했다. 'private-ko-build-ubuntu'는 Jenkins가 설치된 ubuntu 환경에 맞춘 코드를 넣었고, 원문에는 없는 오타와 오역 신고를 부탁한다는 글은 'private-ko-build-ebook'에 넣어 두었다.</p>

<p>private으로 시작하는 브랜치 규칙을 만든 이유는 실제로 실수를 저질렀기 때문이다. <a href="https://twitter.com/lethee">@lethee</a>가 빌드 스크립트와 설정을 수정했다. 그리고 그 수정한 것을 내가 다시 정리해서 Pull Request를 보냈는데, 커뮤니케이션이 미숙해서 <a href="https://twitter.com/lethee">@lethee</a>의 의도대로 Pull Request하지 않았다. 그래서 영어 폰트를 수정한 커밋이 progit 저장소에 들어가 버렸다. 그래서 이런 규칙을 만들었다.</p>

<h4>요약</h4>

<p>Pull Request를 보내는 브랜치:</p>

<ul>
<li><strong>ko</strong> - 번역 브랜치, 각 토픽 브랜치 별로 Pull Request를 보낼 수도 있지만, Dictator가 Merge하기 편리하도록 정리해서 보낸다.</li>
<li><strong>ko-build</strong> - 빌드 스크립트용 브랜치. Dictator가 검토해주길 바라는 내용.</li>
</ul>

<p>Tracking 브랜치:</p>

<ul>
<li><strong>master</strong> - progit/master를 Tracking하는 브랜치</li>
<li><strong>ko-base</strong> - 어느 시점을 기준으로 번역했는지 기록해 두는 브랜치</li>
</ul>

<p>Pull Request를 보내지 않을 브랜치:</p>

<ul>
<li>&rsquo;**private**&lsquo;으로 시작하는 브랜치.</li>
</ul>

<p>그 외:</p>

<ul>
<li>토픽 브랜치 – 브랜치 대부분은 실제 번역을 하는 토픽 브랜치다. 깔끔하게 작업하는 것은 ko 브랜치에 Merge할 때까지 미뤄도 된다.</li>
</ul>

<h2>커밋 메시지</h2>

<p>번역을 시작하면서 기존의 커밋 메시지를 훑어 봤는데 대부분 사람은 일정 규칙을 지키고 있었다. 물론 규칙을 지키지 않는 커밋들도 계속 올라왔고 강제하는 것처럼 보이진 않았다.</p>

<p>커밋 메시지는 첫 줄은 다음과 같은 형식을 따른다.</p>
<pre><code>[ko] Chapter <span class="number">1</span>: 오타 수정

본문<span class="keyword">...</span>
</code></pre>
<h2>GitHub 저장소의 기본 브랜치.</h2>

<p>Pull Request를 보낼 때 Request마다 어느 브랜치에 Merge해야 하는지 선택해서 보낼 수 있다. 하지만, 기본 값은 저장소의 기본 브랜치이다.</p>

<p>그러니 GitHub의 번역 저장소의 기본 브랜치를 <code>ko</code>로 해야 다른 사람이 번역본에 기여할 때 <code>ko</code> 브랜치로 Pull Request를 보내기 쉬워진다:</p>

<h2>예제</h2>

<p>수정된 원문을 번역에 적용하는 예제를 살펴보자. 여기서 설명하는 예제는 <a href="/articles/2012/progit.html">Pro Git</a>이 아니라 <a href="http://bonsaiden.github.com/JavaScript-Garden/">JavaScript-Garden</a>의 예이다. 이 글을 쓰는 동안에 마침 BonsaiDen이 원문을 수정해줬다. 그동안 변경된 원문을 찾아 번역도 수정하는 것을 설명한다.</p>

<h3>브랜치 확인</h3>

<p>원문 저장소의 리모트 이름은 owner고 번역 저장소의 리모트 이름은 origin이다.</p>

<h4>로컬 저장소</h4>

<p><code>git todo</code>를 실행해서 브랜치 상태를 확인한다. <a href="/articles/2012/git-todo.html">git-todo</a> 사용법은 따로 설명해 놓았다:</p>
<pre><code>$ git todo
      [@] ko - 09b4f9c - <span class="keyword">...</span>
[-<span class="number">1</span>] ko-base - e7c00d8 - <span class="keyword">...</span>
 [-<span class="number">1</span>] master * e7c00d8 - <span class="keyword">...</span>
</code></pre>
<p>다시 설명하지만 <code>master</code>는 <code>owner/master</code>를 Tracking한다. 그리고 ko-base는 마지막으로 번역할 때 기준으로 삼은 시점을 기록해 둔 것이다. 그리고 ko는 새로 번역을 수정해 놓은 브랜치다.</p>

<p><code>[-1]</code>은 <code>[@]</code> 표시가 있는 브랜치 보다 커밋이 하나 적다는 것을 말한다. ko 브랜치에 JavaScript-Garden 한글 버전을 퇴고해서 Pull Request를 보냈다. 그래서 master보다 커밋이 하나 더 많다. BonsaiDen은 이 Pull Request를 Merge했다. 이제 owner 저장소를 확인하자.</p>

<h4>owner 저장소</h4>

<p>owner 저장소를 fetch한다:</p>
<pre><code><span class="char">$g</span>it fetch owner
<span class="method">remote:</span> <span class="class">Counting</span> <span class="method">objects:</span> <span class="number">164</span>, done.
<span class="method">remote:</span> <span class="class">Compressing</span> <span class="method">objects:</span> <span class="number">100</span>% (<span class="number">44</span>/<span class="number">44</span>), done.
<span class="method">remote:</span> <span class="class">Total</span> <span class="number">101</span> (delta <span class="number">65</span>), reused <span class="number">80</span> (delta <span class="number">45</span>)
<span class="class">Receiving</span> <span class="method">objects:</span> <span class="number">100</span>% (<span class="number">101</span>/<span class="number">101</span>), <span class="number">41.53</span> <span class="class">KiB</span> | <span class="number">42</span> <span class="class">KiB</span>/s, done.
<span class="class">Resolving</span> <span class="method">deltas:</span> <span class="number">100</span>% (<span class="number">65</span>/<span class="number">65</span>), completed with <span class="number">32</span> local objects.
<span class="class">From</span> <span class="method">https:</span>//github.com/<span class="class">BonsaiDen</span>/<span class="class">JavaScript</span>-<span class="class">Garden</span>
   <span class="number">962617</span>e.<span class="number">.67775</span>b0  gh-pages   -&gt; owner/gh-pages
   e7c00d8.<span class="number">.01</span>fe309  master     -&gt; owner/master
</code></pre>
<p>그리고 나서 브랜치 상태를 확인한다:</p>
<pre><code>$ git todo -r
                    [@] ko - 09b4f9c - <span class="keyword">...</span>
              [-<span class="number">1</span>] ko-base - e7c00d8 - <span class="keyword">...</span>
               [-<span class="number">1</span>] master * e7c00d8 - <span class="keyword">...</span>
                 origin/ko - 09b4f9c - <span class="keyword">...</span>
       [-<span class="number">1</span>] origin/ko-base - e7c00d8 - <span class="keyword">...</span>
        [-<span class="number">1</span>] origin/master - e7c00d8 - <span class="keyword">...</span>
        [-<span class="number">388</span>] origin/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
[+<span class="number">84</span>][-<span class="number">143</span>] owner/gh-pages - 67775b0 - <span class="keyword">...</span>
        [+<span class="number">14</span>] owner/master - 01fe309 - <span class="keyword">...</span>
         [-<span class="number">388</span>] owner/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
</code></pre>
<p><code>owner/master</code>에 새로운 커밋이 생겼다. master는 단순히 <code>owner/master</code>를 Tracking하는 브랜치니까 master에 Merge한다:</p>
<pre><code><span class="variable">$ </span>git co master
<span class="variable">$ </span>git merge owner/master
</code></pre>
<p>ko 브랜치가 Merge됐는지 확인한다. 히스토리를 보면 다음과 같은 커밋이 들어 있다:</p>
<pre><code>34c3271 Merge pull request <span class="comment">#121 from pismute/ko</span>
09b4f9c<span class="sqbracket"> [ko] proofreading
</code></pre>
<p>Merge됐으므로 ko 브랜치가 owner/master를 가리키게 한다:</p>
<pre><code><span class="comment">$</span> <span class="comment">git</span> <span class="comment">co</span> <span class="comment">ko</span>
<span class="comment">$</span> <span class="comment">git</span> <span class="comment">reset</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">hard</span> <span class="comment">owner/master</span>
</code></pre>
<p>그리고 나서 브랜치 상태를 확인해보자:</p>
<pre><code>$ git todo -r
                    [@] ko * 01fe309 - <span class="keyword">...</span>
             [-<span class="number">15</span>] ko-base - e7c00d8 - <span class="keyword">...</span>
                    master - 01fe309 - <span class="keyword">...</span>
           [-<span class="number">14</span>] origin/ko - 09b4f9c - <span class="keyword">...</span>
      [-<span class="number">15</span>] origin/ko-base - e7c00d8 - <span class="keyword">...</span>
       [-<span class="number">15</span>] origin/master - e7c00d8 - <span class="keyword">...</span>
        [-<span class="number">402</span>] origin/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
[+<span class="number">84</span>][-<span class="number">157</span>] owner/gh-pages - 67775b0 - <span class="keyword">...</span>
              owner/master - 01fe309 - <span class="keyword">...</span>
         [-<span class="number">402</span>] owner/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
</code></pre>
<p><code>owner/master</code>에 맞추어 브랜치를 정리했다. <code>owner/master</code>, <code>master</code>, <code>ko</code> 브랜치는 이제 같은 커밋을 가리킨다.</p>

<p>원문에서 무엇이 변경됐는지 살펴보고 번역을 수정해보자</p>

<h3>무엇이 변경됐는지 찾아 번역한다.</h3>

<p>먼저 변경된 커밋 중에서 어떤 파일들이 변경됐는지 확인해보자. ko-base 브랜치가 이미 번역한 번역본의 기준이므로 master와 ko-base 브랜치를 비교한다. 이때 브랜치 순서가 중요하다. <code>ko-base...master</code> 같이 <code>ko-base</code>를 먼저 사용한다. 순서를 반대로 쓰면 diff 명령에서 헷갈리기 쉽다.</p>
<pre><code>$ git log --pretty=oneline --abbrev-commit --left-right --name-only ko-base...master
&gt; <span class="number">01</span>fe309 Finally get around <span class="keyword">and</span> start fixing some issues
doc<span class="regexp">/en/core/</span><span class="literal">undefined</span>.md
doc<span class="regexp">/en/function/</span>constructors.md
doc<span class="regexp">/en/function/</span>scopes.md
doc<span class="regexp">/en/object/</span>hasownproperty.md
&gt; <span class="number">98</span>a1f31 Merge pull request <span class="comment">#114 from krawaller/master</span>
&gt; <span class="number">65</span>f0d9e Merge pull request <span class="comment">#77 from xavierm02/master</span>
&gt; <span class="number">27</span>b4b2f Merge pull request <span class="comment">#117 from oozcitak/tr</span>
&gt; <span class="number">666</span>edda Merge pull request <span class="comment">#116 from szTheory/patch-1</span>
&gt; <span class="number">34</span>c3271 Merge pull request <span class="comment">#121 from pismute/ko</span>
&gt; <span class="number">09</span>b4f9c [ko] proofreading
doc<span class="regexp">/ko/array/</span>constructor.md
doc<span class="regexp">/ko/array/g</span>eneral.md
doc<span class="regexp">/ko/core/</span><span class="keyword">delete</span>.md
doc<span class="regexp">/ko/core/</span>eval.md
doc<span class="regexp">/ko/core/</span>semicolon.md
doc<span class="regexp">/ko/core/</span><span class="literal">undefined</span>.md
doc<span class="regexp">/ko/function/</span>arguments.md
doc<span class="regexp">/ko/function/</span>closures.md
doc<span class="regexp">/ko/function/</span>constructors.md
doc<span class="regexp">/ko/function/g</span>eneral.md
doc<span class="regexp">/ko/function/</span>scopes.md
doc<span class="regexp">/ko/function/</span><span class="keyword">this</span>.md
doc<span class="regexp">/ko/intro/i</span>ndex.md
doc<span class="regexp">/ko/object/</span>forinloop.md
doc<span class="regexp">/ko/object/g</span>eneral.md
doc<span class="regexp">/ko/object/</span>hasownproperty.md
doc<span class="regexp">/ko/object/</span>prototype.md
doc<span class="regexp">/ko/other/</span>timeouts.md
doc<span class="regexp">/ko/types/</span>casting.md
doc<span class="regexp">/ko/types/</span>equality.md
doc<span class="regexp">/ko/types/</span><span class="keyword">typeof</span>.md
&gt; <span class="number">919</span>b581 [tr] Fixed typo
doc<span class="regexp">/tr/core/</span><span class="keyword">delete</span>.md
&gt; <span class="number">753</span>fd78 Added <span class="keyword">delete</span> to index
doc<span class="regexp">/tr/i</span>ndex.json
&gt; c8258d1 [tr] Translated <span class="keyword">delete</span>
doc<span class="regexp">/tr/core/</span><span class="keyword">delete</span>.md
&gt; cd06184 [tr] Fixed type
doc<span class="regexp">/tr/function/</span>scopes.md
&gt; be27b01 grammar
doc<span class="regexp">/en/function/</span><span class="keyword">this</span>.md
&gt; <span class="number">103</span>ca5d removed trailing whitespace <span class="keyword">in</span> comment <span class="literal">on</span> line <span class="number">55</span> which caused line to spill outside code container
doc<span class="regexp">/fi/function/</span>arguments.md
&gt; <span class="number">0</span>a894c1 Stored the biggest timeout ID to avoid infinite <span class="keyword">loop</span>.
doc<span class="regexp">/en/other/</span>timeouts.md
&gt; <span class="number">53</span>decce Added another way to clear <span class="string">"all"</span> timeouts <span class="keyword">and</span> replaced the <span class="string">"is is"</span> <span class="keyword">by</span> <span class="string">"it is"</span>.
doc<span class="regexp">/en/other/</span>timeouts.md
</code></pre>
<p>그동안 수정된 커밋이 좀 있다. 영어로 된 것을 번역한 것이니 이 중에서 <code>doc/en</code> 파일이 수정된 것만 확인한다. <code>doc/en</code> 디렉토리에 있는 파일만 조회하자:</p>
<pre><code>$ git log --pretty=oneline --abbrev-commit --left-right --name-only ko-base...master doc/en
&gt; <span class="number">01</span>fe309 Finally get around <span class="keyword">and</span> start fixing some issues
doc<span class="regexp">/en/core/</span><span class="literal">undefined</span>.md
doc<span class="regexp">/en/function/</span>constructors.md
doc<span class="regexp">/en/function/</span>scopes.md
doc<span class="regexp">/en/object/</span>hasownproperty.md
&gt; <span class="number">65</span>f0d9e Merge pull request <span class="comment">#77 from xavierm02/master</span>
&gt; <span class="number">666</span>edda Merge pull request <span class="comment">#116 from szTheory/patch-1</span>
&gt; be27b01 grammar
doc<span class="regexp">/en/function/</span><span class="keyword">this</span>.md
&gt; <span class="number">0</span>a894c1 Stored the biggest timeout ID to avoid infinite <span class="keyword">loop</span>.
doc<span class="regexp">/en/other/</span>timeouts.md
&gt; <span class="number">53</span>decce Added another way to clear <span class="string">"all"</span> timeouts <span class="keyword">and</span> replaced the <span class="string">"is is"</span> <span class="keyword">by</span> <span class="string">"it is"</span>.
doc<span class="regexp">/en/other/</span>timeouts.md
</code></pre>
<p>커밋 정보 없이 수정된 파일만 볼 수도 있다:</p>
<pre><code>$ git diff --name-only ko-<span class="transposed_variable">base..</span>master doc/en
doc/en/core/<span class="transposed_variable">undefined.</span>md
doc/en/<span class="keyword">function</span>/<span class="transposed_variable">constructors.</span>md
doc/en/<span class="keyword">function</span>/<span class="transposed_variable">scopes.</span>md
doc/en/<span class="keyword">function</span>/<span class="transposed_variable">this.</span>md
doc/en/object/<span class="transposed_variable">hasownproperty.</span>md
doc/en/other/<span class="transposed_variable">timeouts.</span>md
</code></pre>
<p>파일 내용까지 보려면 <code>--name-only</code> 옵션을 빼면 된다. 그러면 diff 내역을 모두 보여준다. 한 번에 보면 너무 많으니 하나씩 diff를 확인해 볼 수 있다. <code>doc/en/core/undefined.md</code> 파일의 diff 내용을 살펴보자:</p>
<pre><code>$ git diff ko-base..master doc/en/core/undefined.md
diff --git a/doc/en/core/undefined.md b/doc/en/core/undefined.md
<span class="keyword">index</span> d27761f..c819920 <span class="number">100644</span>
--- a/doc/en/core/undefined.md
+++ b/doc/en/core/undefined.md
@@ -<span class="number">19</span>,<span class="number">11</span> +<span class="number">19</span>,<span class="number">13</span> @@ overwritten.
 Some examples <span class="keyword">for</span> when the value `undefined` is returned:

  - Accessing the (unmodified) global variable `undefined`.
+ - Accessing a declared *but <span class="keyword">not</span>* yet initialized variable
  - Implicit returns <span class="keyword">of</span> functions due <span class="keyword">to</span> missing `return` statements.
  - `return` statements which <span class="keyword">do</span> <span class="keyword">not</span> explicitly return anything.
  - Lookups <span class="keyword">of</span> non-existent properties.
  - <span class="function"><span class="keyword">Function</span> <span class="title">parameters</span> <span class="title">which</span> <span class="title">do</span> <span class="title">not</span> <span class="title">had</span> <span class="title">any</span> <span class="title">explicit</span> <span class="title">value</span> <span class="title">passed</span>.
  - <span class="title">Anything</span> <span class="title">that</span> <span class="title">has</span> <span class="title">been</span> <span class="title">set</span> <span class="title">to</span> <span class="title">the</span> <span class="title">value</span> <span class="title">of</span> `<span class="title">undefined</span>`.
+ - <span class="title">Any</span> <span class="title">expression</span> <span class="title">in</span> <span class="title">the</span> <span class="title">form</span> <span class="title">of</span> `<span class="title">void</span><span class="params">(expression)</span>`

 ### <span class="title">Handling</span> <span class="title">Changes</span> <span class="title">to</span> <span class="title">the</span> <span class="title">Value</span> <span class="title">of</span> `<span class="title">undefined</span>`
</code></pre>
<p>파일을 하나씩 diff해보면서 번역을 수정한다. 수정하고 커밋한 후에 브랜치를 살펴보자.</p>
<pre><code>$ git todo -r
                    [@] ko * c712143 - <span class="keyword">...</span>
             [-<span class="number">16</span>] ko-base - e7c00d8 - <span class="keyword">...</span>
               [-<span class="number">1</span>] master - 01fe309 - <span class="keyword">...</span>
           [-<span class="number">15</span>] origin/ko - 09b4f9c - <span class="keyword">...</span>
      [-<span class="number">16</span>] origin/ko-base - e7c00d8 - <span class="keyword">...</span>
       [-<span class="number">16</span>] origin/master - e7c00d8 - <span class="keyword">...</span>
        [-<span class="number">403</span>] origin/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
[+<span class="number">84</span>][-<span class="number">158</span>] owner/gh-pages - 67775b0 - <span class="keyword">...</span>
         [-<span class="number">1</span>] owner/master - 01fe309 - <span class="keyword">...</span>
         [-<span class="number">403</span>] owner/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
</code></pre>
<p><code>ko</code> 브랜치에 번역을 수정하고 커밋했기 때문에 <code>owner/master</code>보다 커밋이 한 개 많다.</p>

<h3>ko-base 옮겨 놓고 Pull Request 보내기</h3>

<p>다음에 원문이 수정됐을 때 다시 참고 할 수 있도록 ko-base가 owner/master를 가리키도록 한다.</p>
<pre><code><span class="comment">$</span> <span class="comment">git</span> <span class="comment">checkout</span> <span class="comment">ko</span>-<span class="comment">base</span>
<span class="comment">$</span> <span class="comment">git</span> <span class="comment">reset</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">hard</span> <span class="comment">owner/master</span>
</code></pre>
<p>그리고 저장소를 origin에 Push한다. Push하고 나면 브랜치 상태는 다음과 같아진다:</p>
<pre><code>$ git todo -r
                    [@] ko - c712143 - <span class="keyword">...</span>
              [-<span class="number">1</span>] ko-base * 01fe309 - <span class="keyword">...</span>
               [-<span class="number">1</span>] master - 01fe309 - <span class="keyword">...</span>
                 origin/ko - c712143 - <span class="keyword">...</span>
       [-<span class="number">1</span>] origin/ko-base - 01fe309 - <span class="keyword">...</span>
        [-<span class="number">1</span>] origin/master - 01fe309 - <span class="keyword">...</span>
        [-<span class="number">403</span>] origin/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
[+<span class="number">84</span>][-<span class="number">158</span>] owner/gh-pages - 67775b0 - <span class="keyword">...</span>
         [-<span class="number">1</span>] owner/master - 01fe309 - <span class="keyword">...</span>
         [-<span class="number">403</span>] owner/<span class="keyword">next</span> - c204a58 - <span class="keyword">...</span>
</code></pre>
<p>이제 원문이 수정된 만큼 번역도 수정했으니 Pull Request를 보내면 된다. 그리고 다음에 추가로 수정된 부분이 있으면 이어서 다시 번역할 수 있다.</p>

<h2>결론</h2>

<p>번역 작업에도 Git은 매우 훌륭하다. 번역은 개발과 달라서 다른 Workflow가 필요하다. <a href="/articles/2011/a-successful-git-branching-model.html">git-flow</a>처럼 번역 시 참고할 만한 자료가 있으면 좋을 것 같아서 정리했다.</p>
</div></div></div></article></section><section id="related"><div class="row"><div class="offset2 span10"><h3>Related Posts</h3><ul><li><span>Dec 19 2012</span>&raquo;<a href="/articles/2012/git-secrets.html">Git: git secrets</a></li><li><span>Jan 21 2012</span>&raquo;<a href="/articles/2012/git-todo.html">Git:Todo Plugin</a></li><li><span>Aug 12 2012</span>&raquo;<a href="/articles/2012/git-merge-rebase.html">Git: Rebase는 언제 어떻게 해야 할까?</a></li><li><span>Apr 01 2012</span>&raquo;<a href="/articles/2012/how-to-github.html">GitHub로 남의 프로젝트에 감놓고 배놓기</a></li><li><span>Mar 30 2012</span>&raquo;<a href="/articles/2012/first-speach.html">KTH 발표</a></li><li><span>Mar 03 2012</span>&raquo;<a href="/articles/2012/git-tracking-vs-remote-tracking.html">Git: Remote Tracking Branch vs Tracking Branch</a></li><li><span>Feb 10 2012</span>&raquo;<a href="/articles/2012/git-global-ignore.html">Git: Global Ignore</a></li><li><span>Dec 29 2012</span>&raquo;<a href="/articles/2012/git-github-secrets.html">Git: GitHub secrets</a></li><li><span>Jan 15 2012</span>&raquo;<a href="/articles/2012/progit-retro.html">Pro Git 번역 회고</a></li><li><span>Jan 14 2012</span>&raquo;<a href="/articles/2012/git-branch-a-v.html">Git:branch-a-v</a></li><li><span>Jan 08 2012</span>&raquo;<a href="/articles/2012/progit.html">progit</a></li><li><span>Dec 10 2011</span>&raquo;<a href="/articles/2011/git-merge.html">Git:merge</a></li><li><span>Dec 09 2011</span>&raquo;<a href="/articles/2011/git-flow.html">Git:git-flow</a></li><li><span>Dec 06 2011</span>&raquo;<a href="/articles/2011/a-successful-git-branching-model.html">A successful git branching model</a></li></ul></div></div></section><section id="comments"><div class="row"><div class="offset2 span10"><h3>Feedback</h3><div id="disqus_thread" class="well"></div>
<script type="text/javascript">
    var disqus_shortname = 'dogfeet-github';
    var disqus_identifier = '/articles/2012/git-translate-flow.html';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><div class="well">
  <div class="fb-like" data-href="http://dogfeet.github.com/articles/2012/git-translate-flow.html" data-send="true" data-width="450" data-show-faces="true"></div>
  <div class="fb-comments" data-href="http://dogfeet.github.com/articles/2012/git-translate-flow.html" data-num-posts="1"></div>
</div></div></div></section></div><footer class="footer"><p>Copyright &copy; 2008-2012 Dogfeet from coding to pixels, powered by <a href="https://github.com/balupton/docpad">Docpad</a></p></footer></div><!--DISQUS--><script>var disqus_shortname = 'dogfeet-github';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());</script><!--GA--><script>if( 'http://dogfeet.github.com' === 'http://' + window.location.hostname ) {
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27493298-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}</script></body></html>